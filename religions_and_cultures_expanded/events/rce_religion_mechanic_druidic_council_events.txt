namespace = rce_religion_mechanic_druidic_council_events

country_event = {
	id = rce_religion_mechanic_druidic_council_events.1
	title = rce_religion_mechanic_druidic_council_events.EVTNAME1
	desc = rce_religion_mechanic_druidic_council_events.EVTDESC1
	picture = RELIGION_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_country_flag = rce_religion_mechanic_druidic_council_calling_druidic_council
			capital_scope = {
				save_event_target_as = rebel_province
			}
			random_owned_province = {
				limit = {
					is_capital = no
				}
				save_event_target_as = rebel_province
			}
			random_owned_province = {
				limit = {
					is_capital = no
					is_island = no
				}
				save_event_target_as = rebel_province
			}
			random_owned_province = {
				limit = {
					is_capital = no
					is_island = no
					island = no
				}
				save_event_target_as = rebel_province
			}
			random_owned_province = {
				limit = {
					any_neighbor_province = {
						NOT = { country_or_subject_holds = ROOT }
						OR = {
							NOT = { is_core = ROOT }
							area_for_scope_province = {
								NOT = { is_core = ROOT }
							}
						}
					}
				}
				random_neighbor_province = {
					limit = {
						NOT = { country_or_subject_holds = ROOT }
						OR = {
							NOT = { is_core = ROOT }
							area_for_scope_province = {
								NOT = { is_core = ROOT }
							}
						}
					}
					save_event_target_as = claim_province
				}
			}
		}
	}

	# Spiritualist
	option = {
		name = rce_religion_mechanic_druidic_council_events1.EVTOPT1

		trigger = {
			has_dlc = "Rights of Man"
			OR = {
				ruler_has_personality = pious_personality
				ruler_has_personality = zealot_personality
				ruler_has_personality = lawgiver_personality
				ruler_has_personality = strict_personality
				ruler_has_personality = cruel_personality
				ruler_has_personality = malevolent_personality
			}
			OR = {
				has_estate = estate_church
				any_owned_province = {
					has_tax_building_trigger = yes
				}
			}
		}

		goto = rebel_province

		rce_add_religion_mechanic_druidic_council_value = { value = -20 }
		if = {
			limit = {
				has_estate = estate_church
			}
			add_estate_loyalty = {
				estate = estate_church
				loyalty = 10
			}
		}
		custom_tooltip = rce_religion_mechanic_druidic_council_events.1.tt.1
		tooltip = {
			add_province_modifier = {
				name = rce_religion_mechanic_druidic_council_council_province_modifier_religious_rules_enforced
				duration = 5475
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_tax_building_trigger = yes
				}
				add_province_modifier = {
					name = rce_religion_mechanic_druidic_council_council_province_modifier_religious_rules_enforced
					duration = 5475
				}
			}
		}
		event_target:rebel_province = {
			spawn_rebels = {
				type = heretic_rebels
				size = 2
			}
		}
	}

	option = {
		name = rce_religion_mechanic_druidic_council_events1.EVTOPT2

		trigger = {
			has_dlc = "Rights of Man"
			OR = {
				ruler_has_personality = great_engineer_personality
				ruler_has_personality = greedy_personality
				ruler_has_personality = drunkard_personality
				ruler_has_personality = fierce_negotiator_personality
				ruler_has_personality = charismatic_negotiator_personality
				ruler_has_personality = expansionist_personality
				ruler_has_personality = industrious_personality
				ruler_has_personality = architectural_visionary_personality
				ruler_has_personality = sinner_personality
			}
		}

		rce_add_religion_mechanic_druidic_council_value = { value = -20 }
		add_country_modifier = {
			name = rce_religion_mechanic_druidic_council_council_modifier_slackened_forestry_laws
			duration = 5475
		}
	}

	option = {
		name = rce_religion_mechanic_druidic_council_events1.EVTOPT3

		trigger = {
			has_dlc = "Rights of Man"
			OR = {
				ruler_has_personality = tolerant_personality
				ruler_has_personality = righteous_personality
				ruler_has_personality = kind_hearted_personality
				ruler_has_personality = careful_personality
				ruler_has_personality = calm_personality
				ruler_has_personality = charismatic_negotiator_personality
				ruler_has_personality = fierce_negotiator_personality
				ruler_has_personality = silver_tongue_personality
				ruler_has_personality = intricate_web_weaver_personality
				ruler_has_personality = benevolent_personality
			}
		}

		rce_add_religion_mechanic_druidic_council_value = { value = -20 }
		add_country_modifier = {
			name = rce_religion_mechanic_druidic_council_council_modifier_druidic_diplomats
			duration = 5475
		}
		if = {
			limit = {
				any_country = {
					capital_scope = {
						same_continent = ROOT
					}
					has_opinion_modifier = {
						who = ROOT
						modifier = aggressive_expansion
					}
				}
			}
			every_country = {
				limit = {
					capital_scope = {
						same_continent = ROOT
					}
					has_opinion_modifier = {
						who = ROOT
						modifier = aggressive_expansion
					}
				}
				add_aggressive_expansion = {
					who = ROOT
					value = -10
					apply_calc = no
				}
			}
		}
	}

	option = {
		name = rce_religion_mechanic_druidic_council_events1.EVTOPT4

		trigger = {
			has_dlc = "Rights of Man"
			OR = {
				ruler_has_personality = malevolent_personality
				ruler_has_personality = benevolent_personality
				ruler_has_personality = silver_tongue_personality
				ruler_has_personality = kind_hearted_personality
				ruler_has_personality = secretive_personality
				ruler_has_personality = charismatic_negotiator_personality
				ruler_has_personality = babbling_buffoon_personality
				ruler_has_personality = naive_personality
			}
			num_of_non_tributary_subjects = 1
		}

		rce_add_religion_mechanic_druidic_council_value = { value = -20 }
		add_country_modifier = {
			name = rce_religion_mechanic_druidic_council_council_modifier_druidic_council
			duration = 5475
		}
		if = {
			limit = {
				any_subject_country = {
					religion = ROOT
				}
			}
			every_subject_country = {
				limit = {
					religion = ROOT
				}
				add_opinion = {
					who = ROOT
					modifier = rce_religion_mechanic_druidic_council_council_modifier_druidic_council_opinion
				}
			}
		}
	}

	option = {
		name = rce_religion_mechanic_druidic_council_events1.EVTOPT5

		trigger = {
			has_dlc = "Rights of Man"
			OR = {
				ruler_has_personality = well_advised_personality
				ruler_has_personality = embezzler_personality
				ruler_has_personality = humane_personality
				ruler_has_personality = patron_of_arts_personality
				ruler_has_personality = scholar_personality
				ruler_has_personality = intricate_web_weaver_personality
				ruler_has_personality = free_thinker_personality
				ruler_has_personality = sinner_personality
			}
		}

		rce_add_religion_mechanic_druidic_council_value = { value = -20 }
		add_country_modifier = {
			name = rce_religion_mechanic_druidic_council_council_modifier_druidic_advisory_council
			duration = 5475
		}
	}

	option = {
		name = rce_religion_mechanic_druidic_council_events1.EVTOPT6

		trigger = {
			has_dlc = "Rights of Man"
			OR = {
				ruler_has_personality = righteous_personality
				ruler_has_personality = lawgiver_personality
				ruler_has_personality = pious_personality
				ruler_has_personality = zealot_personality
				ruler_has_personality = well_advised_personality
				ruler_has_personality = reformist_personality
				ruler_has_personality = free_thinker_personality
				ruler_has_personality = obsessive_perfectionist_personality
				ruler_has_personality = strict_personality
				ruler_has_personality = embezzler_personality
				ruler_has_personality = incorruptible_personality
			}
		}

		rce_add_religion_mechanic_druidic_council_value = { value = -20 }
		if = {
			limit = {
				stability = 3
			}
			change_government_reform_progress = 45
		}
		else = {
			add_stability = 1
			change_government_reform_progress = 15
		}
	}

	option = {
		name = rce_religion_mechanic_druidic_council_events1.EVTOPT7

		trigger = {
			has_dlc = "Rights of Man"
			OR = {
				ruler_has_personality = craven_personality
				ruler_has_personality = loose_lips_personality
				ruler_has_personality = cruel_personality
				ruler_has_personality = fierce_negotiator_personality
				ruler_has_personality = martial_educator_personality
				ruler_has_personality = bold_fighter_personality
				ruler_has_personality = tactical_genius_personality
			}
		}

		rce_add_religion_mechanic_druidic_council_value = { value = -20 }
		create_general = { tradition = 75 }
		add_country_modifier = {
			name = rce_religion_mechanic_druidic_council_council_modifier_druid_generals
			duration = 5475
		}
	}

	option = {
		name = rce_religion_mechanic_druidic_council_events1.EVTOPT8

		rce_add_religion_mechanic_druidic_council_value = { value = -20 }
		add_country_modifier = {
			name = rce_religion_mechanic_druidic_council_council_province_modifier_allow_druids_in_estates
			duration = 5475
		}
	}

	option = {
		name = rce_religion_mechanic_druidic_council_events1.EVTOPT9

		rce_add_religion_mechanic_druidic_council_value = { value = -20 }
		add_country_modifier = {
			name = rce_religion_mechanic_druidic_council_council_modifier_justified_wars
			duration = 5475
		}
		if = {
			limit = {
				has_saved_event_target = claim_province
			}
			event_target:claim_province = {
				area = {
					limit = {
						NOT = { country_or_subject_holds = ROOT }
						NOT = { is_core = ROOT }
					}
					add_claim = ROOT
				}
			}
		}
	}

	# Naturalist
	option = {
		name = rce_religion_mechanic_druidic_council_events1.EVTOPT10

		trigger = {
			has_dlc = "Rights of Man"
			OR = {
				ruler_has_personality = righteous_personality
				ruler_has_personality = strict_personality
				ruler_has_personality = conqueror_personality
				ruler_has_personality = expansionist_personality
				ruler_has_personality = tactical_genius_personality
				ruler_has_personality = bold_fighter_personality
				ruler_has_personality = inspiring_leader_personality
				ruler_has_personality = martial_educator_personality
				ruler_has_personality = fierce_negotiator_personality
				ruler_has_personality = naive_personality
				ruler_has_personality = malevolent_personality
				ruler_has_personality = legendary_conqueror_personality
				ruler_has_personality = peasant_revolt_leader_personality
			}
		}

		rce_add_religion_mechanic_druidic_council_value = { value = 20 }
		add_country_modifier = {
			name = rce_religion_mechanic_druidic_council_council_modifier_sanctioned_warfare
			duration = 5475
		}
	}

	option = {
		name = rce_religion_mechanic_druidic_council_events1.EVTOPT11

		trigger = {
			OR = {
				AND = {
					has_dlc = "Rights of Man"
					OR = {
						ruler_has_personality = navigator_personality
						ruler_has_personality = legendary_pirate_personality
						ruler_has_personality = greedy_personality
						ruler_has_personality = entrepreneur_personality
					}
				}
				has_idea_group = maritime_ideas
				has_idea_group = naval_ideas
			}
		}

		rce_add_religion_mechanic_druidic_council_value = { value = 20 }
		add_country_modifier = {
			name = rce_religion_mechanic_druidic_council_council_modifier_blessed_fleets
			duration = 5475
		}
	}

	option = {
		name = rce_religion_mechanic_druidic_council_events1.EVTOPT12

		trigger = {
			has_dlc = "Rights of Man"
			OR = {
				ruler_has_personality = industrious_personality
				ruler_has_personality = expansionist_personality
				ruler_has_personality = navigator_personality
				ruler_has_personality = drunkard_personality
			}
			num_of_colonists = 1
		}

		rce_add_religion_mechanic_druidic_council_value = { value = 20 }
		add_country_modifier = {
			name = rce_religion_mechanic_druidic_council_council_modifier_understand_new_lands
			duration = 5475
		}
	}

	option = {
		name = rce_religion_mechanic_druidic_council_events1.EVTOPT13

		trigger = {
			has_dlc = "Rights of Man"
			OR = {
				ruler_has_personality = tolerant_personality
				ruler_has_personality = kind_hearted_personality
				ruler_has_personality = free_thinker_personality
				ruler_has_personality = righteous_personality
				ruler_has_personality = benevolent_personality
				ruler_has_personality = calm_personality
				ruler_has_personality = careful_personality
				ruler_has_personality = incorruptible_personality
				ruler_has_personality = reformist_personality
			}
			any_owned_province = {
				has_tax_building_trigger = yes
			}
		}

		rce_add_religion_mechanic_druidic_council_value = { value = 20 }
		custom_tooltip = rce_religion_mechanic_druidic_council_events.1.tt.1
		tooltip = {
			add_province_modifier = {
				name = rce_religion_mechanic_druidic_council_council_province_modifier_lenient_on_non_believers
				duration = 5475
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_tax_building_trigger = yes
				}
				add_province_modifier = {
					name = rce_religion_mechanic_druidic_council_council_province_modifier_lenient_on_non_believers
					duration = 5475
				}
			}
		}
	}

	option = {
		name = rce_religion_mechanic_druidic_council_events1.EVTOPT14

		trigger = {
			has_dlc = "Rights of Man"
			OR = {
				ruler_has_personality = greedy_personality
				ruler_has_personality = drunkard_personality
				ruler_has_personality = entrepreneur_personality
				ruler_has_personality = midas_touched_personality
				ruler_has_personality = navigator_personality
				ruler_has_personality = expansionist_personality
				ruler_has_personality = industrious_personality
				ruler_has_personality = incorruptible_personality
				ruler_has_personality = architectural_visionary_personality
			}
		}

		rce_add_religion_mechanic_druidic_council_value = { value = 20 }
		add_country_modifier = {
			name = rce_religion_mechanic_druidic_council_council_modifier_reorganized_trade_routes
			duration = 5475
		}
		custom_tooltip = rce_religion_mechanic_druidic_council_events.1.tt.2
		tooltip = {
			add_province_modifier = {
				name = rce_religion_mechanic_druidic_council_council_province_modifier_reorganized_trade_routes
				duration = 5475
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_tax_building_trigger = yes
					development = 10
				}
				add_province_modifier = {
					name = rce_religion_mechanic_druidic_council_council_province_modifier_reorganized_trade_routes
					duration = 5475
				}
			}
		}
	}

	option = {
		name = rce_religion_mechanic_druidic_council_events1.EVTOPT15

		rce_add_religion_mechanic_druidic_council_value = { value = 20 }
		if = {
			limit = {
				any_owned_province = {
					has_tax_building_trigger = yes
					OR = {
						has_terrain = hills
						has_terrain = mountain
						has_terrain = highlands
					}
				}
			}
			custom_tooltip = rce_religion_mechanic_druidic_council_events.1.tt.3
			tooltip = {
				add_province_modifier = {
					name = rce_religion_mechanic_druidic_council_council_province_modifier_fortified_groves
					duration = 5475
				}
			}
			hidden_effect = {
				every_owned_province = {
					limit = {
						has_tax_building_trigger = yes
						OR = {
							has_terrain = hills
							has_terrain = mountain
							has_terrain = highlands
						}
					}
					add_province_modifier = {
						name = rce_religion_mechanic_druidic_council_council_province_modifier_fortified_groves
						duration = 5475
					}
				}
			}
		}
		else = {
			random_owned_province = {
				type = random
				amount = 3
				add_province_modifier = {
					name = rce_religion_mechanic_druidic_council_council_province_modifier_fortified_groves
					duration = 5475
				}
			}
		}
	}

	option = {
		name = rce_religion_mechanic_druidic_council_events1.EVTOPT16

		rce_add_religion_mechanic_druidic_council_value = { value = 20 }
		if = {
			limit = {
				any_owned_province = {
					has_tax_building_trigger = yes
				}
			}
			custom_tooltip = rce_religion_mechanic_druidic_council_events.1.tt.1
			tooltip = {
				add_province_modifier = {
					name = rce_religion_mechanic_druidic_council_council_province_modifier_urban_naturalism
					duration = 5475
				}
			}
			hidden_effect = {
				every_owned_province = {
					limit = {
						has_tax_building_trigger = yes
					}
					add_province_modifier = {
						name = rce_religion_mechanic_druidic_council_council_province_modifier_urban_naturalism
						duration = 5475
					}
				}
			}
		}
		else = {
			random_owned_province = {
				type = random
				amount = 3
				add_province_modifier = {
					name = rce_religion_mechanic_druidic_council_council_province_modifier_urban_naturalism
					duration = 5475
				}
			}
		}
	}

	after = {
		clr_country_flag = rce_religion_mechanic_druidic_council_calling_druidic_council
		add_country_modifier = {
			name = rce_religion_mechanic_druidic_council_call_druidic_council_cooldown_modifier
			duration = 5475
			hidden = yes
		}
	}
}