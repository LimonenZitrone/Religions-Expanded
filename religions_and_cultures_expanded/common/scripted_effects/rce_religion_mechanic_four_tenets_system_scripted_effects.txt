rce_set_religion_mechanic_four_tenets_system_value = {
	if = {
		limit = {
			rce_uses_religion_mechanic = { mechanic = four_tenets_system }
		}
		[[value]
			set_variable = { which = rce_religion_mechanic_four_tenets_system_value value = $value$ }
		]
		[[which]
			set_variable = { which = rce_religion_mechanic_four_tenets_system_value which = $which$ }
		]
		hidden_effect = {
			if = {
				limit = {
					rce_has_religion_mechanic_four_tenets_system_value = { value = 100 }
				}
				set_variable = { which = rce_religion_mechanic_four_tenets_system_value value = 100 }
			}
			else_if = {
				limit = {
					NOT = { rce_has_religion_mechanic_four_tenets_system_value = { value = 0 } }
				}
				set_variable = { which = rce_religion_mechanic_four_tenets_system_value value = 0 }
			}
		}
	}
}

rce_add_religion_mechanic_four_tenets_system_value = {
	if = {
		limit = {
			rce_uses_religion_mechanic = { mechanic = four_tenets_system }
		}
		[[value]
			change_variable = { which = rce_religion_mechanic_four_tenets_system_value value = $value$ }
		]
		[[which]
			change_variable = { which = rce_religion_mechanic_four_tenets_system_value which = $which$ }
		]
		hidden_effect = {
			if = {
				limit = {
					rce_has_religion_mechanic_four_tenets_system_value = { value = 100 }
				}
				set_variable = { which = rce_religion_mechanic_four_tenets_system_value value = 100 }
			}
			else_if = {
				limit = {
					NOT = { rce_has_religion_mechanic_four_tenets_system_value = { value = 0 } }
				}
				set_variable = { which = rce_religion_mechanic_four_tenets_system_value value = 0 }
			}
		}
	}
}

rce_export_monthly_religion_mechanic_four_tenets_system_value_gain = {
	hidden_effect = {
		export_to_variable = {
			which = rce_monthly_religion_mechanic_four_tenets_system_value
			value = modifier:rce_monthly_religion_mechanic_four_tenets_system_change
		}
		if = {
			limit = {
				has_dlc = "Rule Britannia"
			}
			change_variable = { which = rce_monthly_religion_mechanic_four_tenets_system_value value = 0.3 } # Base Gain
		}
		else = {
			change_variable = { which = rce_monthly_religion_mechanic_four_tenets_system_value value = 0.8 } # Base Gain (Higher cause no Innovativeness)
		}
		if = {
			limit = {
				NOT = { uses_devotion = yes }
				government = theocracy
			}
			change_variable = { which = rce_monthly_religion_mechanic_four_tenets_system_value value = 0.5 } # Theocracy
		}
		set_variable = { which = rce_monthly_religion_mechanic_four_tenets_system_value_base which = rce_monthly_religion_mechanic_four_tenets_system_value } # display
		# Modifier
		export_to_variable = {
			which = rce_monthly_religion_mechanic_four_tenets_system_modifier_value
			value = modifier:rce_monthly_religion_mechanic_four_tenets_system_change_modifier
		}
		if = {
			limit = {
				check_variable = { which = rce_monthly_religion_mechanic_four_tenets_system_value value = 0 }
			}
			if = {
				limit = {
					NOT = { check_variable = { which = rce_monthly_religion_mechanic_four_tenets_system_modifier_value value = -1 } }
				}
				set_variable = { which = rce_monthly_religion_mechanic_four_tenets_system_modifier_value value = -1 }
			}
			set_variable = { which = rce_monthly_religion_mechanic_four_tenets_system_modifier_value_base which = rce_monthly_religion_mechanic_four_tenets_system_modifier_value } # display
			multiply_variable = { which = rce_monthly_religion_mechanic_four_tenets_system_modifier_value_base value = 100 } # display
			change_variable = { which = rce_monthly_religion_mechanic_four_tenets_system_modifier_value value = 1 }
		}
		else = {
			if = {
				limit = {
					check_variable = { which = rce_monthly_religion_mechanic_four_tenets_system_modifier_value value = 1 }
				}
				set_variable = { which = rce_monthly_religion_mechanic_four_tenets_system_modifier_value value = 1 }
			}
			set_variable = { which = rce_monthly_religion_mechanic_four_tenets_system_modifier_value_base which = rce_monthly_religion_mechanic_four_tenets_system_modifier_value } # display
			multiply_variable = { which = rce_monthly_religion_mechanic_four_tenets_system_modifier_value_base value = 100 } # display
			change_variable = { which = rce_monthly_religion_mechanic_four_tenets_system_modifier_value value = -1 }
			multiply_variable = { which = rce_monthly_religion_mechanic_four_tenets_system_modifier_value value = -1 }
		}
		multiply_variable = { which = rce_monthly_religion_mechanic_four_tenets_system_value which = rce_monthly_religion_mechanic_four_tenets_system_modifier_value }
		set_variable = { which = rce_monthly_religion_mechanic_four_tenets_system_modifier_value value = 0 }
	}
}

rce_add_monthly_religion_mechanic_four_tenets_system_value = {
	rce_export_monthly_religion_mechanic_four_tenets_system_value_gain = yes
	rce_add_religion_mechanic_four_tenets_system_value = { which = rce_monthly_religion_mechanic_four_tenets_system_value }
}

rce_clear_all_religion_mechanic_four_tenets_system_modifiers = {
	clr_ruler_flag = rce_religion_mechanic_four_tenets_system_meditated
	set_variable = { which = rce_religion_mechanic_four_tenets_system_value value = 0 }
	set_variable = { which = rce_monthly_religion_mechanic_four_tenets_system_value value = 0 }
	set_variable = { which = rce_monthly_religion_mechanic_four_tenets_system_value_base value = 0 }
	set_variable = { which = rce_monthly_religion_mechanic_four_tenets_system_modifier_value_base value = 0 }
	set_variable = { which = rce_religion_mechanic_four_tenets_system_meditate_used_year value = 0 }
}