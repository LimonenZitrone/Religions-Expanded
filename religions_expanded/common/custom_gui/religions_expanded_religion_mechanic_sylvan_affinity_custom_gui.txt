custom_window = {
	name = re_religion_mechanic_sylvan_affinity_window
	potential = {
		ai = no
		re_uses_religion_mechanic = { mechanic = sylvan_affinity }
	}
}

custom_button = {
	name = re_religion_mechanic_sylvan_affinity_consecrate_new_grove_button
	# if you change this, make sure to change the re_religion_mechanic_sylvan_affinity_consecrate_new_grove_decision decision accordingly
	trigger = {
		if = {
			limit = {
				has_country_flag = re_religion_mechanic_sylvan_affinity_consecrated_new_grove_used
			}
			custom_trigger_tooltip = {
				tooltip = re_religion_mechanic_sylvan_affinity_consecrated_new_grove_not_used_recently_tt_with_year
				had_country_flag = { flag = re_religion_mechanic_sylvan_affinity_consecrated_new_grove_used days = 3650 }
			}
		}
		else = {
			custom_trigger_tooltip = {
				tooltip = re_religion_mechanic_sylvan_affinity_consecrated_new_grove_not_used_recently_tt
				always = yes
			}
		}
		re_has_religion_mechanic_sylvan_affinity_seasonal_affinity_selected = yes
		re_has_religion_mechanic_sylvan_affinity_value = { value = 75 }
		any_owned_province = {
			has_owner_religion = yes
		}
	}
	effect = {
		re_add_religion_mechanic_sylvan_affinity_value = { value = -75 }
		if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = spring }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_spring_yes
		}
		else = {
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_spring_no
		}
		custom_tooltip = re_religion_mechanic_sylvan_affinity_consecrate_new_grove_button_tt_spring_effect
		if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = summer }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_summer_yes
		}
		else = {
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_summer_no
		}
		custom_tooltip = re_religion_mechanic_sylvan_affinity_consecrate_new_grove_button_tt_summer_effect
		if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = fall }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_fall_yes
		}
		else = {
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_fall_no
		}
		custom_tooltip = re_religion_mechanic_sylvan_affinity_consecrate_new_grove_button_tt_fall_effect
		if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = winter }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_winter_yes
		}
		else = {
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_winter_no
		}
		custom_tooltip = re_religion_mechanic_sylvan_affinity_consecrate_new_grove_button_tt_winter_effect
		hidden_effect = {
			if = {
				limit = {
					re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = spring }
				}
				random_owned_province = {
					limit = {
						has_owner_religion = yes
					}
					save_event_target_as = target_province
				}
				if = {
					limit = {
						has_saved_event_target = target_province
					}
					event_target:target_province = {
						add_base_manpower = 2
						add_province_modifier = {
							name = re_religion_mechanic_sylvan_affinity_spring_grove_province_modifier
							duration = 1825
						}
						area = {
							limit = {
								owned_by = ROOT
							}
							add_province_modifier = {
								name = re_religion_mechanic_sylvan_affinity_spring_grove_area_modifier
								duration = 1825
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = summer }
				}
				random_owned_province = {
					limit = {
						has_owner_religion = yes
					}
					save_event_target_as = target_province
				}
				if = {
					limit = {
						has_saved_event_target = target_province
					}
					event_target:target_province = {
						add_base_tax = 2
						add_province_modifier = {
							name = re_religion_mechanic_sylvan_affinity_summer_grove_province_modifier
							duration = 1825
						}
						area = {
							limit = {
								owned_by = ROOT
							}
							add_province_modifier = {
								name = re_religion_mechanic_sylvan_affinity_summer_grove_area_modifier
								duration = 1825
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = fall }
				}
				random_owned_province = {
					limit = {
						has_owner_religion = yes
					}
					save_event_target_as = target_province
				}
				if = {
					limit = {
						has_saved_event_target = target_province
					}
					event_target:target_province = {
						add_base_production = 2
						add_province_modifier = {
							name = re_religion_mechanic_sylvan_affinity_fall_grove_province_modifier
							duration = 1825
						}
						area = {
							limit = {
								owned_by = ROOT
							}
							add_province_modifier = {
								name = re_religion_mechanic_sylvan_affinity_fall_grove_area_modifier
								duration = 1825
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = winter }
				}
				random_owned_province = {
					limit = {
						has_owner_religion = yes
					}
					save_event_target_as = target_province
				}
				random_owned_province = {
					limit = {
						has_owner_religion = yes
						OR = {
							fort_level = 2
							AND = {
								is_capital = yes
								fort_level = 1
							}
						}
					}
					save_event_target_as = target_province
				}
				random_owned_province = {
					limit = {
						has_owner_religion = yes
						OR = {
							fort_level = 2
							AND = {
								is_capital = yes
								fort_level = 1
							}
						}
						area_for_scope_province = {
							OR = {
								NOT = { country_or_subject_holds = ROOT }
								any_neighbor_province = {
									NOT = { country_or_subject_holds = ROOT }
								}
							}
						}
					}
					save_event_target_as = target_province
				}
				random_owned_province = {
					limit = {
						has_owner_religion = yes
						OR = {
							fort_level = 2
							AND = {
								is_capital = yes
								fort_level = 1
							}
						}
						any_neighbor_province = {
							NOT = { country_or_subject_holds = ROOT }
						}
					}
					save_event_target_as = target_province
				}
				if = {
					limit = {
						has_saved_event_target = target_province
					}
					event_target:target_province = {
						random_list = {
							33 = {
								add_base_tax = 2
							}
							33 = {
								add_base_production = 2
							}
							33 = {
								add_base_manpower = 2
							}
						}
						add_province_modifier = {
							name = re_religion_mechanic_sylvan_affinity_winter_grove_province_modifier
							duration = 1825
						}
						area = {
							limit = {
								owned_by = ROOT
							}
							add_province_modifier = {
								name = re_religion_mechanic_sylvan_affinity_winter_grove_area_modifier
								duration = 1825
							}
						}
					}
				}
			}
			clr_country_flag = re_religion_mechanic_sylvan_affinity_consecrated_new_grove_used
			set_country_flag = re_religion_mechanic_sylvan_affinity_consecrated_new_grove_used
			export_to_variable = {
				which = re_religion_mechanic_sylvan_affinity_consecrated_new_grove_used_year
				value = trigger_value:is_year
			}
		}
	}
	tooltip = re_religion_mechanic_sylvan_affinity_consecrate_new_grove_button_tt
}
custom_button = {
	name = re_religion_mechanic_sylvan_affinity_select_seasonal_affinity_button
	# if you change this, make sure to change the re_religion_mechanic_sylvan_affinity_select_seasonal_affinity_decision decision accordingly
	trigger = {
		hidden_trigger = {
			NOT = { has_country_flag = re_religion_mechanic_sylvan_affinity_selecting_seasonal_affinity }
		}
	}
	effect = {
		set_country_flag = re_religion_mechanic_sylvan_affinity_selecting_seasonal_affinity
		if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = spring }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_select_seasonal_affinity_button_tt_spring_selected
		}
		else_if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = summer }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_select_seasonal_affinity_button_tt_summer_selected
		}
		else_if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = fall }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_select_seasonal_affinity_button_tt_fall_selected
		}
		else_if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = winter }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_select_seasonal_affinity_button_tt_winter_selected
		}
	}
	tooltip = re_religion_mechanic_sylvan_affinity_select_seasonal_affinity_button_tt
}

custom_button = {
	name = re_religion_mechanic_sylvan_affinity_sergetoja_button
	# if you change this, make sure to change the re_religion_mechanic_sylvan_affinity_sergetoja_decision decision accordingly
	trigger = {
		if = {
			limit = {
				NOT = { re_has_religion_mechanic_sylvan_affinity_sergetoja_modifier = yes }
			}
			re_has_religion_mechanic_sylvan_affinity_seasonal_affinity_selected = yes
			re_has_religion_mechanic_sylvan_affinity_value = { value = 7 }
		}
	}
	effect = {
		if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_sergetoja_modifier = yes
			}
			clr_country_flag = re_religion_mechanic_sylvan_affinity_sergetoja_modifier_active
			remove_country_modifier = re_religion_mechanic_sylvan_affinity_sergetoja_spring_modifier
			remove_country_modifier = re_religion_mechanic_sylvan_affinity_sergetoja_summer_modifier
			remove_country_modifier = re_religion_mechanic_sylvan_affinity_sergetoja_fall_modifier
			remove_country_modifier = re_religion_mechanic_sylvan_affinity_sergetoja_winter_modifier
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_currently_active
		}
		else = {
			re_add_religion_mechanic_sylvan_affinity_value = { value = -6 }
			hidden_effect = {
				set_country_flag = re_religion_mechanic_sylvan_affinity_sergetoja_modifier_active
				if = {
					limit = {
						re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = spring }
					}
					add_country_modifier = {
						name = re_religion_mechanic_sylvan_affinity_sergetoja_spring_modifier
						duration = -1
					}
				}
				else_if = {
					limit = {
						re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = summer }
					}
					add_country_modifier = {
						name = re_religion_mechanic_sylvan_affinity_sergetoja_summer_modifier
						duration = -1
					}
				}
				else_if = {
					limit = {
						re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = fall }
					}
					add_country_modifier = {
						name = re_religion_mechanic_sylvan_affinity_sergetoja_fall_modifier
						duration = -1
					}
				}
				else_if = {
					limit = {
						re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = winter }
					}
					add_country_modifier = {
						name = re_religion_mechanic_sylvan_affinity_sergetoja_winter_modifier
						duration = -1
					}
				}
			}
		}
		re_export_monthly_religion_mechanic_sylvan_affinity_value_gain = yes
		if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = spring }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_spring_yes
		}
		else = {
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_spring_no
		}
		tooltip = {
			add_country_modifier = {
				name = re_religion_mechanic_sylvan_affinity_sergetoja_spring_modifier
				duration = -1
				desc = re_religion_mechanic_sylvan_affinity_until_focus_disabled_tt
			}
		}
		if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = summer }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_summer_yes
		}
		else = {
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_summer_no
		}
		tooltip = {
			add_country_modifier = {
				name = re_religion_mechanic_sylvan_affinity_sergetoja_summer_modifier
				duration = -1
				desc = re_religion_mechanic_sylvan_affinity_until_focus_disabled_tt
			}
		}
		if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = fall }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_fall_yes
		}
		else = {
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_fall_no
		}
		tooltip = {
			add_country_modifier = {
				name = re_religion_mechanic_sylvan_affinity_sergetoja_fall_modifier
				duration = -1
				desc = re_religion_mechanic_sylvan_affinity_until_focus_disabled_tt
			}
		}
		if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = winter }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_winter_yes
		}
		else = {
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_winter_no
		}
		tooltip = {
			add_country_modifier = {
				name = re_religion_mechanic_sylvan_affinity_sergetoja_winter_modifier
				duration = -1
				desc = re_religion_mechanic_sylvan_affinity_until_focus_disabled_tt
			}
		}
	}
	frame = {
		number = 2
		trigger = {
			re_has_religion_mechanic_sylvan_affinity_sergetoja_modifier = yes
		}
	}
	frame = {
		number = 1
		trigger = {
			always = yes
		}
	}
	tooltip = re_religion_mechanic_sylvan_affinity_sergetoja_button_tt
}
custom_button = {
	name = re_religion_mechanic_sylvan_affinity_nukirpeja_button
	# if you change this, make sure to change the re_religion_mechanic_sylvan_affinity_nukirpeja_decision decision accordingly
	trigger = {
		if = {
			limit = {
				NOT = { re_has_religion_mechanic_sylvan_affinity_nukirpeja_modifier = yes }
			}
			re_has_religion_mechanic_sylvan_affinity_seasonal_affinity_selected = yes
			re_has_religion_mechanic_sylvan_affinity_value = { value = 7 }
		}
	}
	effect = {
		if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_nukirpeja_modifier = yes
			}
			clr_country_flag = re_religion_mechanic_sylvan_affinity_nukirpeja_modifier_active
			remove_country_modifier = re_religion_mechanic_sylvan_affinity_nukirpeja_spring_modifier
			remove_country_modifier = re_religion_mechanic_sylvan_affinity_nukirpeja_summer_modifier
			remove_country_modifier = re_religion_mechanic_sylvan_affinity_nukirpeja_fall_modifier
			remove_country_modifier = re_religion_mechanic_sylvan_affinity_nukirpeja_winter_modifier
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_currently_active
		}
		else = {
			re_add_religion_mechanic_sylvan_affinity_value = { value = -6 }
			hidden_effect = {
				set_country_flag = re_religion_mechanic_sylvan_affinity_nukirpeja_modifier_active
				if = {
					limit = {
						re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = spring }
					}
					add_country_modifier = {
						name = re_religion_mechanic_sylvan_affinity_nukirpeja_spring_modifier
						duration = -1
					}
				}
				else_if = {
					limit = {
						re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = summer }
					}
					add_country_modifier = {
						name = re_religion_mechanic_sylvan_affinity_nukirpeja_summer_modifier
						duration = -1
					}
				}
				else_if = {
					limit = {
						re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = fall }
					}
					add_country_modifier = {
						name = re_religion_mechanic_sylvan_affinity_nukirpeja_fall_modifier
						duration = -1
					}
				}
				else_if = {
					limit = {
						re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = winter }
					}
					add_country_modifier = {
						name = re_religion_mechanic_sylvan_affinity_nukirpeja_winter_modifier
						duration = -1
					}
				}
			}
		}
		re_export_monthly_religion_mechanic_sylvan_affinity_value_gain = yes
		if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = spring }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_spring_yes
		}
		else = {
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_spring_no
		}
		tooltip = {
			add_country_modifier = {
				name = re_religion_mechanic_sylvan_affinity_nukirpeja_spring_modifier
				duration = -1
				desc = re_religion_mechanic_sylvan_affinity_until_focus_disabled_tt
			}
		}
		if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = summer }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_summer_yes
		}
		else = {
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_summer_no
		}
		tooltip = {
			add_country_modifier = {
				name = re_religion_mechanic_sylvan_affinity_nukirpeja_summer_modifier
				duration = -1
				desc = re_religion_mechanic_sylvan_affinity_until_focus_disabled_tt
			}
		}
		if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = fall }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_fall_yes
		}
		else = {
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_fall_no
		}
		tooltip = {
			add_country_modifier = {
				name = re_religion_mechanic_sylvan_affinity_nukirpeja_fall_modifier
				duration = -1
				desc = re_religion_mechanic_sylvan_affinity_until_focus_disabled_tt
			}
		}
		if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = winter }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_winter_yes
		}
		else = {
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_winter_no
		}
		tooltip = {
			add_country_modifier = {
				name = re_religion_mechanic_sylvan_affinity_nukirpeja_winter_modifier
				duration = -1
				desc = re_religion_mechanic_sylvan_affinity_until_focus_disabled_tt
			}
		}
	}
	frame = {
		number = 2
		trigger = {
			re_has_religion_mechanic_sylvan_affinity_nukirpeja_modifier = yes
		}
	}
	frame = {
		number = 1
		trigger = {
			always = yes
		}
	}
	tooltip = re_religion_mechanic_sylvan_affinity_nukirpeja_button_tt
}
custom_button = {
	name = re_religion_mechanic_sylvan_affinity_audeja_button
	# if you change this, make sure to change the re_religion_mechanic_sylvan_affinity_audeja_decision decision accordingly
	trigger = {
		if = {
			limit = {
				NOT = { re_has_religion_mechanic_sylvan_affinity_audeja_modifier = yes }
			}
			re_has_religion_mechanic_sylvan_affinity_seasonal_affinity_selected = yes
			re_has_religion_mechanic_sylvan_affinity_value = { value = 7 }
		}
	}
	effect = {
		if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_audeja_modifier = yes
			}
			clr_country_flag = re_religion_mechanic_sylvan_affinity_audeja_modifier_active
			remove_country_modifier = re_religion_mechanic_sylvan_affinity_audeja_spring_modifier
			remove_country_modifier = re_religion_mechanic_sylvan_affinity_audeja_summer_modifier
			remove_country_modifier = re_religion_mechanic_sylvan_affinity_audeja_fall_modifier
			remove_country_modifier = re_religion_mechanic_sylvan_affinity_audeja_winter_modifier
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_currently_active
		}
		else = {
			re_add_religion_mechanic_sylvan_affinity_value = { value = -6 }
			hidden_effect = {
				set_country_flag = re_religion_mechanic_sylvan_affinity_audeja_modifier_active
				if = {
					limit = {
						re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = spring }
					}
					add_country_modifier = {
						name = re_religion_mechanic_sylvan_affinity_audeja_spring_modifier
						duration = -1
					}
				}
				else_if = {
					limit = {
						re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = summer }
					}
					add_country_modifier = {
						name = re_religion_mechanic_sylvan_affinity_audeja_summer_modifier
						duration = -1
					}
				}
				else_if = {
					limit = {
						re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = fall }
					}
					add_country_modifier = {
						name = re_religion_mechanic_sylvan_affinity_audeja_fall_modifier
						duration = -1
					}
				}
				else_if = {
					limit = {
						re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = winter }
					}
					add_country_modifier = {
						name = re_religion_mechanic_sylvan_affinity_audeja_winter_modifier
						duration = -1
					}
				}
			}
		}
		re_export_monthly_religion_mechanic_sylvan_affinity_value_gain = yes
		if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = spring }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_spring_yes
		}
		else = {
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_spring_no
		}
		tooltip = {
			add_country_modifier = {
				name = re_religion_mechanic_sylvan_affinity_audeja_spring_modifier
				duration = -1
				desc = re_religion_mechanic_sylvan_affinity_until_focus_disabled_tt
			}
		}
		if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = summer }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_summer_yes
		}
		else = {
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_summer_no
		}
		tooltip = {
			add_country_modifier = {
				name = re_religion_mechanic_sylvan_affinity_audeja_summer_modifier
				duration = -1
				desc = re_religion_mechanic_sylvan_affinity_until_focus_disabled_tt
			}
		}
		if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = fall }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_fall_yes
		}
		else = {
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_fall_no
		}
		tooltip = {
			add_country_modifier = {
				name = re_religion_mechanic_sylvan_affinity_audeja_fall_modifier
				duration = -1
				desc = re_religion_mechanic_sylvan_affinity_until_focus_disabled_tt
			}
		}
		if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = winter }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_winter_yes
		}
		else = {
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_winter_no
		}
		tooltip = {
			add_country_modifier = {
				name = re_religion_mechanic_sylvan_affinity_audeja_winter_modifier
				duration = -1
				desc = re_religion_mechanic_sylvan_affinity_until_focus_disabled_tt
			}
		}
	}
	frame = {
		number = 2
		trigger = {
			re_has_religion_mechanic_sylvan_affinity_audeja_modifier = yes
		}
	}
	frame = {
		number = 1
		trigger = {
			always = yes
		}
	}
	tooltip = re_religion_mechanic_sylvan_affinity_audeja_button_tt
}
custom_button = {
	name = re_religion_mechanic_sylvan_affinity_verpiancioji_button
	# if you change this, make sure to change the re_religion_mechanic_sylvan_affinity_verpiancioji_decision decision accordingly
	trigger = {
		if = {
			limit = {
				NOT = { re_has_religion_mechanic_sylvan_affinity_verpiancioji_modifier = yes }
			}
			re_has_religion_mechanic_sylvan_affinity_seasonal_affinity_selected = yes
			re_has_religion_mechanic_sylvan_affinity_value = { value = 7 }
		}
	}
	effect = {
		if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_verpiancioji_modifier = yes
			}
			clr_country_flag = re_religion_mechanic_sylvan_affinity_verpiancioji_modifier_active
			remove_country_modifier = re_religion_mechanic_sylvan_affinity_verpiancioji_spring_modifier
			remove_country_modifier = re_religion_mechanic_sylvan_affinity_verpiancioji_summer_modifier
			remove_country_modifier = re_religion_mechanic_sylvan_affinity_verpiancioji_fall_modifier
			remove_country_modifier = re_religion_mechanic_sylvan_affinity_verpiancioji_winter_modifier
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_currently_active
		}
		else = {
			re_add_religion_mechanic_sylvan_affinity_value = { value = -6 }
			hidden_effect = {
				set_country_flag = re_religion_mechanic_sylvan_affinity_verpiancioji_modifier_active
				if = {
					limit = {
						re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = spring }
					}
					add_country_modifier = {
						name = re_religion_mechanic_sylvan_affinity_verpiancioji_spring_modifier
						duration = -1
					}
				}
				else_if = {
					limit = {
						re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = summer }
					}
					add_country_modifier = {
						name = re_religion_mechanic_sylvan_affinity_verpiancioji_summer_modifier
						duration = -1
					}
				}
				else_if = {
					limit = {
						re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = fall }
					}
					add_country_modifier = {
						name = re_religion_mechanic_sylvan_affinity_verpiancioji_fall_modifier
						duration = -1
					}
				}
				else_if = {
					limit = {
						re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = winter }
					}
					add_country_modifier = {
						name = re_religion_mechanic_sylvan_affinity_verpiancioji_winter_modifier
						duration = -1
					}
				}
			}
		}
		re_export_monthly_religion_mechanic_sylvan_affinity_value_gain = yes
		if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = spring }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_spring_yes
		}
		else = {
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_spring_no
		}
		tooltip = {
			add_country_modifier = {
				name = re_religion_mechanic_sylvan_affinity_verpiancioji_spring_modifier
				duration = -1
				desc = re_religion_mechanic_sylvan_affinity_until_focus_disabled_tt
			}
		}
		if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = summer }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_summer_yes
		}
		else = {
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_summer_no
		}
		tooltip = {
			add_country_modifier = {
				name = re_religion_mechanic_sylvan_affinity_verpiancioji_summer_modifier
				duration = -1
				desc = re_religion_mechanic_sylvan_affinity_until_focus_disabled_tt
			}
		}
		if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = fall }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_fall_yes
		}
		else = {
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_fall_no
		}
		tooltip = {
			add_country_modifier = {
				name = re_religion_mechanic_sylvan_affinity_verpiancioji_fall_modifier
				duration = -1
				desc = re_religion_mechanic_sylvan_affinity_until_focus_disabled_tt
			}
		}
		if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = winter }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_winter_yes
		}
		else = {
			custom_tooltip = re_religion_mechanic_sylvan_affinity_button_tt_winter_no
		}
		tooltip = {
			add_country_modifier = {
				name = re_religion_mechanic_sylvan_affinity_verpiancioji_winter_modifier
				duration = -1
				desc = re_religion_mechanic_sylvan_affinity_until_focus_disabled_tt
			}
		}
	}
	frame = {
		number = 2
		trigger = {
			re_has_religion_mechanic_sylvan_affinity_verpiancioji_modifier = yes
		}
	}
	frame = {
		number = 1
		trigger = {
			always = yes
		}
	}
	tooltip = re_religion_mechanic_sylvan_affinity_verpiancioji_button_tt
}

custom_text_box = {
	name = re_religion_mechanic_sylvan_affinity_total_value_title
	potential = {
		always = yes
	}
	tooltip = re_religion_mechanic_sylvan_affinity_total_value_tt
}
custom_text_box = {
	name = re_religion_mechanic_sylvan_affinity_total_value
	potential = {
		always = yes
	}
	tooltip = re_religion_mechanic_sylvan_affinity_total_value_tt
}

custom_text_box = {
	name = re_religion_mechanic_sylvan_affinity_monthly_value_title
	potential = {
		always = yes
	}
	tooltip = re_religion_mechanic_sylvan_affinity_monthly_value_tt
}
custom_text_box = {
	name = re_religion_mechanic_sylvan_affinity_monthly_value
	potential = {
		always = yes
	}
	tooltip = re_religion_mechanic_sylvan_affinity_monthly_value_tt
}

custom_window = {
	name = re_religion_mechanic_sylvan_affinity_seasonal_affinity_selection_window
	potential = {
		has_country_flag = re_religion_mechanic_sylvan_affinity_selecting_seasonal_affinity
	}
}

custom_button = {
	name = re_religion_mechanic_sylvan_affinity_seasonal_affinity_selection_close_button
	effect = {
		clr_country_flag = re_religion_mechanic_sylvan_affinity_selecting_seasonal_affinity
	}
}

custom_text_box = {
	name = re_religion_mechanic_sylvan_affinity_seasonal_affinity_spring_title
	potential = {
		always = yes
	}
}
custom_text_box = {
	name = re_religion_mechanic_sylvan_affinity_seasonal_affinity_spring_desc
	potential = {
		always = yes
	}
}
custom_button = {
	name = re_religion_mechanic_sylvan_affinity_seasonal_affinity_spring_button
	trigger = {
		hidden_trigger = {
			NOT = { re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = spring } }
			OR = {
				NOT = { has_country_flag = re_religion_mechanic_sylvan_affinity_seasonal_affinity_selected }
				had_country_flag = { flag = re_religion_mechanic_sylvan_affinity_seasonal_affinity_selected days = 7300 }
			}
		}
	}
	effect = {
		if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = spring }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_seasonal_affinity_spring_button_tt_selected
		}
		else_if = {
			limit = {
				has_country_flag = re_religion_mechanic_sylvan_affinity_seasonal_affinity_selected
				NOT = { had_country_flag = { flag = re_religion_mechanic_sylvan_affinity_seasonal_affinity_selected days = 7300 } }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_seasonal_affinity_button_tt_blocked
		}
		else = {
			re_set_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = spring }
		}
	}
	tooltip = re_religion_mechanic_sylvan_affinity_seasonal_affinity_button_tt
}

custom_text_box = {
	name = re_religion_mechanic_sylvan_affinity_seasonal_affinity_summer_title
	potential = {
		always = yes
	}
}
custom_text_box = {
	name = re_religion_mechanic_sylvan_affinity_seasonal_affinity_summer_desc
	potential = {
		always = yes
	}
}
custom_button = {
	name = re_religion_mechanic_sylvan_affinity_seasonal_affinity_summer_button
	trigger = {
		hidden_trigger = {
			NOT = { re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = summer } }
			OR = {
				NOT = { has_country_flag = re_religion_mechanic_sylvan_affinity_seasonal_affinity_selected }
				had_country_flag = { flag = re_religion_mechanic_sylvan_affinity_seasonal_affinity_selected days = 7300 }
			}
		}
	}
	effect = {
		if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = summer }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_seasonal_affinity_summer_button_tt_selected
		}
		else_if = {
			limit = {
				has_country_flag = re_religion_mechanic_sylvan_affinity_seasonal_affinity_selected
				NOT = { had_country_flag = { flag = re_religion_mechanic_sylvan_affinity_seasonal_affinity_selected days = 7300 } }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_seasonal_affinity_button_tt_blocked
		}
		else = {
			re_set_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = summer }
		}
	}
	tooltip = re_religion_mechanic_sylvan_affinity_seasonal_affinity_button_tt
}

custom_text_box = {
	name = re_religion_mechanic_sylvan_affinity_seasonal_affinity_fall_title
	potential = {
		always = yes
	}
}
custom_text_box = {
	name = re_religion_mechanic_sylvan_affinity_seasonal_affinity_fall_desc
	potential = {
		always = yes
	}
}
custom_button = {
	name = re_religion_mechanic_sylvan_affinity_seasonal_affinity_fall_button
	trigger = {
		hidden_trigger = {
			NOT = { re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = fall } }
			OR = {
				NOT = { has_country_flag = re_religion_mechanic_sylvan_affinity_seasonal_affinity_selected }
				had_country_flag = { flag = re_religion_mechanic_sylvan_affinity_seasonal_affinity_selected days = 7300 }
			}
		}
	}
	effect = {
		if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = fall }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_seasonal_affinity_fall_button_tt_selected
		}
		else_if = {
			limit = {
				has_country_flag = re_religion_mechanic_sylvan_affinity_seasonal_affinity_selected
				NOT = { had_country_flag = { flag = re_religion_mechanic_sylvan_affinity_seasonal_affinity_selected days = 7300 } }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_seasonal_affinity_button_tt_blocked
		}
		else = {
			re_set_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = fall }
		}
	}
	tooltip = re_religion_mechanic_sylvan_affinity_seasonal_affinity_button_tt
}

custom_text_box = {
	name = re_religion_mechanic_sylvan_affinity_seasonal_affinity_winter_title
	potential = {
		always = yes
	}
}
custom_text_box = {
	name = re_religion_mechanic_sylvan_affinity_seasonal_affinity_winter_desc
	potential = {
		always = yes
	}
}
custom_button = {
	name = re_religion_mechanic_sylvan_affinity_seasonal_affinity_winter_button
	trigger = {
		hidden_trigger = {
			NOT = { re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = winter } }
			OR = {
				NOT = { has_country_flag = re_religion_mechanic_sylvan_affinity_seasonal_affinity_selected }
				had_country_flag = { flag = re_religion_mechanic_sylvan_affinity_seasonal_affinity_selected days = 7300 }
			}
		}
	}
	effect = {
		if = {
			limit = {
				re_has_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = winter }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_seasonal_affinity_winter_button_tt_selected
		}
		else_if = {
			limit = {
				has_country_flag = re_religion_mechanic_sylvan_affinity_seasonal_affinity_selected
				NOT = { had_country_flag = { flag = re_religion_mechanic_sylvan_affinity_seasonal_affinity_selected days = 7300 } }
			}
			custom_tooltip = re_religion_mechanic_sylvan_affinity_seasonal_affinity_button_tt_blocked
		}
		else = {
			re_set_religion_mechanic_sylvan_affinity_seasonal_affinity = { season = winter }
		}
	}
	tooltip = re_religion_mechanic_sylvan_affinity_seasonal_affinity_button_tt
}