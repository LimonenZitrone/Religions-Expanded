custom_window = {
	name = re_religion_mechanic_hindu_window
	potential = {
		ai = no
		re_uses_religion_mechanic = { mechanic = hindu }
	}
}

custom_button = {
	name = re_religion_mechanic_hindu_spend_dedication_button
	# if you change this, make sure to change the re_religion_mechanic_hindu_spend_dedication_decision decision accordingly
	trigger = {
		NOT = { has_country_modifier = re_religion_mechanic_hindu_modifier_spent_dedication_shiva }
		NOT = { has_country_modifier = re_religion_mechanic_hindu_modifier_spent_dedication_brahma }
		NOT = { has_country_modifier = re_religion_mechanic_hindu_modifier_spent_dedication_vishnu }
		if = {
			limit = {
				OR = {
					re_has_religion_mechanic_hindu_current_major_deity = { name = shiva }
					re_has_religion_mechanic_hindu_current_major_deity = { name = brahma }
					re_has_religion_mechanic_hindu_current_major_deity = { name = vishnu }
				}
			}
			OR = {
				re_has_religion_mechanic_hindu_major_deity_dedication_level = { major_deity = current level = 1 }
				re_has_religion_mechanic_hindu_value = { major_deity = current value = 30 }
			}
		}
		else = {
			OR = {
				re_has_religion_mechanic_hindu_current_major_deity = { name = shiva }
				re_has_religion_mechanic_hindu_current_major_deity = { name = brahma }
				re_has_religion_mechanic_hindu_current_major_deity = { name = vishnu }
			}
		}
	}
	effect = {
		re_add_religion_mechanic_hindu_value = { major_deity = current value = -30 }
		custom_tooltip = re_religion_mechanic_hindu_spend_dedication_button_tt_shiva
		tooltip = {
			add_country_modifier = {
				name = re_religion_mechanic_hindu_modifier_spent_dedication_shiva
				duration = 7300
			}
		}
		custom_tooltip = re_religion_mechanic_hindu_spend_dedication_button_tt_brahma
		tooltip = {
			add_country_modifier = {
				name = re_religion_mechanic_hindu_modifier_spent_dedication_brahma
				duration = 7300
			}
		}
		custom_tooltip = re_religion_mechanic_hindu_spend_dedication_button_tt_vishnu
		tooltip = {
			add_country_modifier = {
				name = re_religion_mechanic_hindu_modifier_spent_dedication_vishnu
				duration = 7300
			}
		}
		hidden_effect = {
			if = {
				limit = {
					re_has_religion_mechanic_hindu_current_major_deity = { name = shiva }
				}
				add_country_modifier = {
					name = re_religion_mechanic_hindu_modifier_spent_dedication_shiva
					duration = 7300
				}
			}
			else_if = {
				limit = {
					re_has_religion_mechanic_hindu_current_major_deity = { name = brahma }
				}
				add_country_modifier = {
					name = re_religion_mechanic_hindu_modifier_spent_dedication_brahma
					duration = 7300
				}
			}
			else_if = {
				limit = {
					re_has_religion_mechanic_hindu_current_major_deity = { name = vishnu }
				}
				add_country_modifier = {
					name = re_religion_mechanic_hindu_modifier_spent_dedication_vishnu
					duration = 7300
				}
			}
		}
	}
	tooltip = re_religion_mechanic_hindu_spend_dedication_button_tt
}
custom_button = {
	name = re_religion_mechanic_hindu_reset_minor_deity_button
	# if you change this, make sure to change the re_religion_mechanic_hindu_reset_minor_deity_decision decision accordingly
	trigger = {
		if = {
			limit = {
				has_country_flag = re_religion_mechanic_hindu_picked_minor_deity
			}
			custom_trigger_tooltip = {
				tooltip = re_religion_mechanic_hindu_picked_minor_deity_not_done_recently_tt_with_year
				had_country_flag = { flag = re_religion_mechanic_hindu_picked_minor_deity days = 730 }
			}
		}
		else = {
			custom_trigger_tooltip = {
				tooltip = re_religion_mechanic_hindu_picked_minor_deity_not_done_recently_tt
				always = yes
			}
		}
		re_has_any_religion_mechanic_hindu_minor_deity_selected = yes
	}
	effect = {
		hidden_effect = {
			change_personal_deity = none
		}
	}
	tooltip = re_religion_mechanic_hindu_reset_minor_deity_button_tt
}
custom_button = {
	name = re_religion_mechanic_hindu_toggle_dedication_focus_button
	# if you change this, make sure to change the re_religion_mechanic_hindu_toggle_dedication_focus_decision decision accordingly
	trigger = {
		if = {
			limit = {
				re_is_religion_mechanic_hindu_dedication_focus_enabled = yes
			}
			if = {
				limit = {
					OR = {
						re_has_religion_mechanic_hindu_current_major_deity = { name = shiva }
						re_has_religion_mechanic_hindu_current_major_deity = { name = brahma }
						re_has_religion_mechanic_hindu_current_major_deity = { name = vishnu }
					}
				}
				custom_trigger_tooltip = {
					tooltip = re_religion_mechanic_hindu_picked_major_deity_at_least_some_time_ago_tt
					OR = {
						had_country_flag = { flag = re_religion_mechanic_hindu_current_major_deity_shiva days = 365 }
						had_country_flag = { flag = re_religion_mechanic_hindu_current_major_deity_brahma days = 365 }
						had_country_flag = { flag = re_religion_mechanic_hindu_current_major_deity_vishnu days = 365 }
					}
				}
			}
			else = {
				OR = {
					re_has_religion_mechanic_hindu_current_major_deity = { name = shiva }
					re_has_religion_mechanic_hindu_current_major_deity = { name = brahma }
					re_has_religion_mechanic_hindu_current_major_deity = { name = vishnu }
				}
			}
		}
		else = {
			NOT = { has_country_modifier = re_religion_mechanic_hindu_modifier_dedication_focus_ended }
			OR = {
				re_has_religion_mechanic_hindu_current_major_deity = { name = shiva }
				re_has_religion_mechanic_hindu_current_major_deity = { name = brahma }
				re_has_religion_mechanic_hindu_current_major_deity = { name = vishnu }
			}
		}
	}
	effect = {
		if = {
			limit = {
				re_is_religion_mechanic_hindu_dedication_focus_enabled = yes
			}
			custom_tooltip = re_religion_mechanic_hindu_toggle_dedication_focus_button_tt_current_effects
			tooltip = {
				re_update_religion_mechanic_hindu_dynamic_dedication_focus_modifier = yes
			}
			re_remove_religion_mechanic_hindu_dynamic_dedication_focus_modifiers = yes
			custom_tooltip = re_religion_mechanic_hindu_toggle_dedication_focus_button_tt_deactivation_effects
			if = {
				limit = {
					re_has_religion_mechanic_hindu_major_deity_dedication_level = { major_deity = current level = 5 }
				}
				custom_tooltip = re_religion_mechanic_hindu_toggle_dedication_focus_button_tt_deactivate_level_5
				hidden_effect = {
					random_owned_province = {
						hinduism_rebels = 3
					}
					random_owned_province = {
						hinduism_rebels = 3
					}
					random_owned_province = {
						hinduism_rebels = 3
					}
					random_owned_province = {
						hinduism_rebels = 3
					}
					random_owned_province = {
						hinduism_rebels = 3
					}
					random_owned_province = {
						hinduism_rebels = 3
					}
				}
			}
			else_if = {
				limit = {
					re_has_religion_mechanic_hindu_major_deity_dedication_level = { major_deity = current level = 4 }
				}
				custom_tooltip = re_religion_mechanic_hindu_toggle_dedication_focus_button_tt_deactivate_level_4
				hidden_effect = {
					random_owned_province = {
						hinduism_rebels = 3
					}
					random_owned_province = {
						hinduism_rebels = 3
					}
					random_owned_province = {
						hinduism_rebels = 3
					}
					random_owned_province = {
						hinduism_rebels = 3
					}
					random_owned_province = {
						hinduism_rebels = 3
					}
				}
			}
			else_if = {
				limit = {
					re_has_religion_mechanic_hindu_major_deity_dedication_level = { major_deity = current level = 3 }
				}
				custom_tooltip = re_religion_mechanic_hindu_toggle_dedication_focus_button_tt_deactivate_level_3
				hidden_effect = {
					random_owned_province = {
						hinduism_rebels = 3
					}
					random_owned_province = {
						hinduism_rebels = 3
					}
					random_owned_province = {
						hinduism_rebels = 3
					}
					random_owned_province = {
						hinduism_rebels = 3
					}
				}
			}
			else_if = {
				limit = {
					re_has_religion_mechanic_hindu_major_deity_dedication_level = { major_deity = current level = 2 }
				}
				custom_tooltip = re_religion_mechanic_hindu_toggle_dedication_focus_button_tt_deactivate_level_2
				hidden_effect = {
					random_owned_province = {
						hinduism_rebels = 2
					}
					random_owned_province = {
						hinduism_rebels = 2
					}
					random_owned_province = {
						hinduism_rebels = 2
					}
				}
			}
			else_if = {
				limit = {
					re_has_religion_mechanic_hindu_major_deity_dedication_level = { major_deity = current level = 1 }
				}
				custom_tooltip = re_religion_mechanic_hindu_toggle_dedication_focus_button_tt_deactivate_level_1
				hidden_effect = {
					random_owned_province = {
						hinduism_rebels = 2
					}
					random_owned_province = {
						hinduism_rebels = 2
					}
				}
			}
			else = {
				custom_tooltip = re_religion_mechanic_hindu_toggle_dedication_focus_button_tt_deactivate_level_0
				hidden_effect = {
					random_owned_province = {
						hinduism_rebels = 1
					}
					random_owned_province = {
						hinduism_rebels = 1
					}
				}
			}
			add_country_modifier = {
				name = re_religion_mechanic_hindu_modifier_dedication_focus_ended
				duration = 7300
			}
		}
		else = {
			custom_tooltip = re_religion_mechanic_hindu_toggle_dedication_focus_button_tt_activation_effects
			re_update_religion_mechanic_hindu_dynamic_dedication_focus_modifier = yes
		}
	}
	frame = {
		number = 2
		trigger = {
			re_is_religion_mechanic_hindu_dedication_focus_enabled = yes
		}
	}
	frame = {
		number = 1
		trigger = {
			always = yes
		}
	}
	tooltip = re_religion_mechanic_hindu_toggle_dedication_focus_button_tt
}
custom_button = {
	name = re_religion_mechanic_hindu_major_deity_shiva_button
	# if you change this, make sure to change the re_religion_mechanic_hindu_major_deity_shiva_decision decision accordingly
	effect = {
		if = {
			limit = {
				re_has_religion_mechanic_hindu_current_major_deity = { name = shiva }
			}
			custom_tooltip = re_religion_mechanic_hindu_major_deity_shiva_button_tt_selected
			if = {
				limit = {
					re_has_any_religion_mechanic_hindu_modifiers = yes
				}
				custom_tooltip = re_religion_mechanic_hindu_current_dynamic_modifier_tt
			}
		}
		else = {
			re_set_religion_mechanic_hindu_current_major_deity = { major_deity = shiva }
		}
	}
	frame = {
		number = 2
		trigger = {
			re_has_religion_mechanic_hindu_current_major_deity = { name = shiva }
		}
	}
	frame = {
		number = 1
		trigger = {
			always = yes
		}
	}
	tooltip = re_religion_mechanic_hindu_major_deity_shiva_button_tt
}
custom_button = {
	name = re_religion_mechanic_hindu_major_deity_brahma_button
	# if you change this, make sure to change the re_religion_mechanic_hindu_major_deity_brahma_decision decision accordingly
	effect = {
		if = {
			limit = {
				re_has_religion_mechanic_hindu_current_major_deity = { name = brahma }
			}
			custom_tooltip = re_religion_mechanic_hindu_major_deity_brahma_button_tt_selected
			if = {
				limit = {
					re_has_any_religion_mechanic_hindu_modifiers = yes
				}
				custom_tooltip = re_religion_mechanic_hindu_current_dynamic_modifier_tt
			}
		}
		else = {
			re_set_religion_mechanic_hindu_current_major_deity = { major_deity = brahma }
		}
	}
	frame = {
		number = 2
		trigger = {
			re_has_religion_mechanic_hindu_current_major_deity = { name = brahma }
		}
	}
	frame = {
		number = 1
		trigger = {
			always = yes
		}
	}
	tooltip = re_religion_mechanic_hindu_major_deity_brahma_button_tt
}
custom_button = {
	name = re_religion_mechanic_hindu_major_deity_vishnu_button
	# if you change this, make sure to change the re_religion_mechanic_hindu_major_deity_vishnu_decision decision accordingly
	effect = {
		if = {
			limit = {
				re_has_religion_mechanic_hindu_current_major_deity = { name = vishnu }
			}
			custom_tooltip = re_religion_mechanic_hindu_major_deity_vishnu_button_tt_selected
			if = {
				limit = {
					re_has_any_religion_mechanic_hindu_modifiers = yes
				}
				custom_tooltip = re_religion_mechanic_hindu_current_dynamic_modifier_tt
			}
		}
		else = {
			re_set_religion_mechanic_hindu_current_major_deity = { major_deity = vishnu }
		}
	}
	frame = {
		number = 2
		trigger = {
			re_has_religion_mechanic_hindu_current_major_deity = { name = vishnu }
		}
	}
	frame = {
		number = 1
		trigger = {
			always = yes
		}
	}
	tooltip = re_religion_mechanic_hindu_major_deity_vishnu_button_tt
}
custom_text_box = {
	name = re_religion_mechanic_hindu_selected_major_deity_name
	potential = {
		always = yes
	}
	tooltip = re_religion_mechanic_hindu_selected_major_deity_name_tt
}
custom_icon = {
	name = re_religion_mechanic_hindu_dedication_bar_bg
	potential = {
		always = yes
	}
}
custom_icon = {
	name = re_religion_mechanic_hindu_dedication_bar
	potential = {
		re_has_religion_mechanic_hindu_value = { major_deity = current value = 1 }
	}
	frame_variable = re_religion_mechanic_hindu_current_value
}
custom_text_box = {
	name = re_religion_mechanic_hindu_dedication_level_text
	potential = {
		always = yes
	}
	tooltip = re_religion_mechanic_hindu_dedication_level_text_tt
}
custom_text_box = {
	name = re_religion_mechanic_hindu_dynamic_modifier_text
	potential = {
		always = yes
	}
}